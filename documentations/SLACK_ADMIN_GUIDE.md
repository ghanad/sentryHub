# ุฑุงูููุง ุชุณุช Template ุงุณูฺฉ (Slack) ุฏุฑ SentryHub

ุงู ุฑุงูููุง ุชูุถุญ ูโุฏูุฏ ฺฺฏููู ุฏุฑ ุตูุญู ุงุฏูู ุงุณูฺฉุ Template ูพุงู ุฑุง ุจุง ุฏุงุฏูโ ููููู (Mock Alert) ุฑูุฏุฑ ฺฉูุฏุ ูพุดโููุงุด ุจฺฏุฑุฏ ู ูุชุฌู ุฑุง ุจู ฺฉุงูุงู ุงุณูฺฉ ุงุฑุณุงู ฺฉูุฏ.

## ูุณุฑ ุตูุญู
- ุตูุญู ุงุฏูู ุงุณูฺฉ: `/integrations/slack/admin/`
- ุตูุญู ุฑุงูููุง: `/integrations/slack/admin/guide/`

## ุงูฺฉุงูุงุช ุตูุญู ุงุฏูู
ุฏุฑ ุงู ุตูุญู ุฏู ุจุฎุด ูุฌูุฏ ุฏุงุฑุฏ:
1. ุงุฑุณุงู ูพุงู ุณุงุฏู: ฺฉ ูพุงู ูุชู ุณุงุฏู ุจู ฺฉุงูุงู ุงุณูฺฉ ุงุฑุณุงู ูโฺฉูุฏ (ุจุฏูู Template).
2. ุชุณุช Template (Preview & Send): ูพุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ Template ุฌูฺฏู ุฑูุฏุฑ ูโฺฉูุฏ. ูโุชูุงูุฏ ูพุดโููุงุด ุจฺฏุฑุฏ ู ุณูพุณ ูพุงู ุฑูุฏุฑุดุฏู ุฑุง ุงุฑุณุงู ฺฉูุฏ.

## ูุญููโ ููุดุชู Template
ุงุฒ ุฏุณุชูุฑูุง Template ุฌูฺฏู ุงุณุชูุงุฏู ฺฉูุฏ:
- ูุชุบุฑูุง ุงุตู:
  - `{{ alertname }}`: ูุงู ูุดุฏุงุฑ
  - `{{ labels.instance }}`: ูุงู/ุขุฏุฑุณ ุงูุณุชูุณ
  - `{{ labels.severity }}`: ุดุฏุช
  - `{{ annotations.summary }}`: ุฎูุงุตู
  - `{{ annotations.description }}`: ุชูุถุญุงุช
  - `{{ status }}`: ูุถุนุช (ุจุฑุง Mock: `firing`)
  - `{{ generator_url }}`: ููฺฉ ูุฑุฌุน
- ุงููุฌโูุง:
  - ุงุฒ ููฺฉุฏ ูุณุชูู (ูุซู ๐ฅ โ โ๏ธ) ุง ุดูุฑุชโฺฉุฏูุง ุงุณูฺฉ ุงุณุชูุงุฏู ฺฉูุฏ (ูุซู `:fire:`ุ `:white_check_mark:`).
  - ุนูุงูู ุจุฑ ุงูุ ฺฉ Map ุขูุงุฏู ุฏุฑ Context ุจุง ูุงู `icons` ูุฌูุฏ ุฏุงุฑุฏ:
    - `{{ icons.fire }}` โ `:fire:`
    - `{{ icons.check }}` โ `:white_check_mark:`
    - `{{ icons.warning }}` โ `:warning:`
    - `{{ icons.bell }}` โ `:bell:`
    - `{{ icons.x }}` โ `:x:`
    - `{{ icons.info }}` โ `:information_source:`
    - `{{ icons.rocket }}` โ `:rocket:`
    - `{{ icons.boom }}` โ `:boom:`

ููููู ุณุงุฏู:
```
{% verbatim %}{{ icons.fire }} ูุดุฏุงุฑ {{ alertname }} ุฑู {{ labels.instance }}
ุดุฏุช: {{ labels.severity }}
ุฎูุงุตู: {{ annotations.summary }}
{% endverbatim %}
```

## Extra Context (ุงูุฒูุฏู ุฏุงุฏูโูุง ุณูุงุฑุด)
ุจุฑุง ุชุณุช ุณูุงุฑููุง ฺฏููุงฺฏูู ูโุชูุงูุฏ JSON ุณูุงุฑุด ูุงุฑุฏ ฺฉูุฏ ุชุง ุจู Context ุงุถุงูู ุดูุฏ. ุณุงุฎุชุงุฑ ูพุดููุงุฏ:
```json
{
  "labels": { "team": "ops", "environment": "prod" },
  "annotations": { "note": "check dashboards" },
  "vars": { "ticket_id": "OPS-123", "owner": "alice" }
}
```
- ฺฉูุฏูุง ุฏุงุฎู `labels` ู `annotations` ุฑู ููุงุฏุฑ ูพุงู Merge ูโุดููุฏ.
- ููุงุฏุฑ ุฏุงุฎู `vars` ุจู ุตูุฑุช `{{ vars.your_key }}` ุฏุฑ Template ูุงุจู ุงุณุชูุงุฏูโุงูุฏ.

ููููู Template ุจุง extra_context:
```
{% verbatim %}{{ icons.warning }} ุชู {{ labels.team }} | ุชฺฉุช: {{ vars.ticket_id }}
{{ alertname }} ุฑู {{ labels.instance }} | ูุถุนุช: {{ status }}
ุงุฏุฏุงุดุช: {{ annotations.note }}
{% endverbatim %}
```

## ูพุดโููุงุด ู ุงุฑุณุงู
1. ฺฉุงูุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู `#alerts` ุง `C0123ABC`).
2. Template ุฑุง ุจููุณุฏ.
3. ุฏุฑ ุตูุฑุช ูุงุฒุ `Extra Context (JSON)` ุฑุง ูพุฑ ฺฉูุฏ.
4. ุฑู ยซPreviewยป ฺฉูฺฉ ฺฉูุฏ ุชุง ุฎุฑูุฌ ุฑูุฏุฑ ุฑุง ุจุจูุฏ.
5. ุงฺฏุฑ ูุชุฌู ูุทููุจ ุจูุฏุ ยซSend Renderedยป ุฑุง ุจุฒูุฏ ุชุง ูพุงู ุจู ฺฉุงูุงู ุงุฑุณุงู ุดูุฏ.

## ูฺฉุงุช ุชฺฉูู
- ูุงูุจ ููุชูุฑ Templateุ ุฌูฺฏู ุงุณุชุ ุงุฒ ููุชุฑูุง ู ุญูููโูุง ูุฒ ูโุชูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ:
  ```
  {% verbatim %}{% for k, v in labels.items %}{{ k }} = {{ v }}
  {% endfor %}{% endverbatim %}
  ```
- ุฏุฑ ุตูุฑุช ุฎุทุง Template (ูุซูุงู ุณูุชฺฉุณ ุงุดุชุจุงู)ุ ูพุบุงู ุฎุทุง ููุงุด ุฏุงุฏู ูโุดูุฏ.
- ุจุฑุง ฺฉุงูุงูโูุงุ ูู ูุงู ุจุง `#` ู ูู ID ฺฉุงูุงู ููุฑุฏ ูุจูู ุงุณุช. ุณุฑูุณ ุงุฑุณุงูุ ูุงู ฺฉุงูุงู ุฑุง ูุฑูุงูโุณุงุฒ ูโฺฉูุฏ.
- ุงููุฌโูุง ุฏุฑ ุงุณูฺฉ ูู ุจู ุตูุฑุช ููฺฉุฏ ู ูู ุจู ุตูุฑุช `:shortcode:` ูพุดุชุจุงู ูโุดููุฏ.

## ูุซุงูโูุง ุขูุงุฏู
Template:
```
{% verbatim %}{{ icons.fire }} {{ alertname }} | {{ labels.instance }}
ุดุฏุช: {{ labels.severity }}
{{ annotations.summary }}
{{ generator_url }}{% endverbatim %}
```
Extra Context:
```json
{
  "labels": { "service": "payments" },
  "annotations": { "note": "Page latency high" },
  "vars": { "ticket_id": "OPS-987" }
}
```

Rendered (ููููู):
```
:fire: HighCPUUsage | server1:9100
ุดุฏุช: critical
CPU usage is above 90% for the last 5 minutes.
http://prometheus.example.local/graph?g0.expr=cpu_usage
```

## ูุดฺฉูุงุช ุฑุงุฌ
- TemplateSyntaxError: ุงุฒ ุจูุงฺฉโูุง {% verbatim %} ุจุฑุง ููุงุด ููููู ฺฉุฏ ุจุง {{ }} ุฏุฑ ุฎูุฏ ุฑุงูููุง ุงุณุชูุงุฏู ฺฉูุฏ ุง ุณูุชฺฉุณ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.
- JSON ูุงูุนุชุจุฑ ุฏุฑ Extra Context: ุณุงุฎุชุงุฑ JSON ุฑุง ุงุนุชุจุงุฑุณูุฌ ฺฉูุฏ (ุขฺฉููุงุฏุ ฺฉูุชุดูโูุง ู โฆ).
- ุงุฑุณุงู ุจู ุงุณูฺฉ ูุงูููู: ููุฏุงุฑ `SLACK_INTERNAL_ENDPOINT` ุฑุง ุฏุฑ ุชูุธูุงุช ุจุฑุฑุณ ฺฉูุฏ ู ูุงฺฏโูุง ุฑุง ุจุจูุฏ.
