# ุฑุงูููุง ุชุณุช Template ุงุณูฺฉ (Slack) ุฏุฑ SentryHub

ุงู ุฑุงูููุง ุชูุถุญ ูโุฏูุฏ ฺฺฏููู ุฏุฑ ุตูุญู ุงุฏูู ุงุณูฺฉุ Template ูพุงู ุฑุง ุจุง ุฏุงุฏูโ ูููููโ ฺฉ `AlertGroup` ุฑูุฏุฑ ฺฉูุฏุ ูพุดโููุงุด ุจฺฏุฑุฏ ู ูุชุฌู ุฑุง ุจู ฺฉุงูุงู ุงุณูฺฉ ุงุฑุณุงู ฺฉูุฏ.

## ูุณุฑ ุตูุญู
- ุตูุญู ุงุฏูู ุงุณูฺฉ: `/integrations/slack/admin/`
- ุตูุญู ุฑุงูููุง: `/integrations/slack/admin/guide/`

## ุงูฺฉุงูุงุช ุตูุญู ุงุฏูู
ุฏุฑ ุงู ุตูุญู ุฏู ุจุฎุด ูุฌูุฏ ุฏุงุฑุฏ:
1. ุงุฑุณุงู ูพุงู ุณุงุฏู: ฺฉ ูพุงู ูุชู ุณุงุฏู ุจู ฺฉุงูุงู ุงุณูฺฉ ุงุฑุณุงู ูโฺฉูุฏ.
2. ุชุณุช Template (Preview & Send): ูพุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ Template ุฌูฺฏู ุฑูุฏุฑ ูโฺฉูุฏ. ูโุชูุงูุฏ ูพุดโููุงุด ุจฺฏุฑุฏ ู ุณูพุณ ูพุงู ุฑูุฏุฑุดุฏู ุฑุง ุงุฑุณุงู ฺฉูุฏ.

## ูุญููโ ููุดุชู Template
ุฏุฑ ูุงูุจโูุง ุชููุง ฺฉ ูุชุบุฑ ุงุตู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

- `{{ alert_group }}`: ุดุก ฺฉุงูู AlertGroup ฺฉู ุจู ุชูุงู ููุฏูุง ุขู ุฏุณุชุฑุณ ุฏุงุฑุฏ:
  - `{{ alert_group.name }}`
  - `{{ alert_group.labels.instance }}`
  - `{{ alert_group.labels.alertname }}`
  - `{{ alert_group.current_status }}`
  - `{{ alert_group.source }}`
  - `{{ alert_group.jira_issue_key }}` ู ุณุงุฑ ููุฏูุง

ุจุฑุง ุฏุฑุฌ ุงููุฌ ูโุชูุงูุฏ ูุณุชููุงู ุงุฒ ููฺฉุฏ (ูุซู ๐ฅ) ุง ุดูุฑุชโฺฉุฏูุง ุงุณูฺฉ (`:fire:`) ุงุณุชูุงุฏู ฺฉูุฏ.

ููููู ุณุงุฏู:
```
{{ alert_group.labels.alertname }} ุฑู {{ alert_group.labels.instance }}
ูุถุนุช: {{ alert_group.current_status }}
```

## Extra Context (ุงูุฒูุฏู ุฏุงุฏูโูุง ุณูุงุฑุด)
ูโุชูุงูุฏ JSON ุณูุงุฑุด ูุงุฑุฏ ฺฉูุฏ ุชุง ููุงุฏุฑ ุฏุงุฎู ูููููโ `alert_group` ุฑุง ุชุบุฑ ุฏูุฏ.

ุณุงุฎุชุงุฑ ูพุดููุงุฏ:
```json
{
  "labels": { "team": "ops", "environment": "prod" },
  "alert_group": { "source": "custom_source" }
}
```
- ฺฉูุฏูุง ุฏุงุฎู `labels` ุฑู `alert_group.labels` ุงุฏุบุงู ูโุดููุฏ.
- ฺฉูุฏูุง ุฏุงุฎู `alert_group` ุจู ุตูุฑุช ูุณุชูู ุฑู ูฺฺฏโูุง ุดุก `alert_group` ุงุนูุงู ูโุดููุฏ.

ููููู Template ุจุง extra_context:
```
ุชู: {{ alert_group.labels.team }}
ูุดุฏุงุฑ {{ alert_group.labels.alertname }} ุฏุฑ {{ alert_group.labels.instance }}
ููุจุน: {{ alert_group.source }}
```

## ูพุดโููุงุด ู ุงุฑุณุงู
1. ฺฉุงูุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู `#alerts` ุง `C0123ABC`).
2. Template ุฑุง ุจููุณุฏ.
3. ุฏุฑ ุตูุฑุช ูุงุฒุ `Extra Context (JSON)` ุฑุง ูพุฑ ฺฉูุฏ.
4. ุฑู ยซPreviewยป ฺฉูฺฉ ฺฉูุฏ ุชุง ุฎุฑูุฌ ุฑูุฏุฑ ุฑุง ุจุจูุฏ.
5. ุงฺฏุฑ ูุชุฌู ูุทููุจ ุจูุฏุ ยซSend Renderedยป ุฑุง ุจุฒูุฏ ุชุง ูพุงู ุจู ฺฉุงูุงู ุงุฑุณุงู ุดูุฏ.

## ูุซุงู ุขูุงุฏู
Template:
```
{{ alert_group.labels.alertname }} | {{ alert_group.labels.instance }}
ูุถุนุช: {{ alert_group.current_status }}
```
Extra Context:
```json
{
  "labels": { "service": "payments" },
  "alert_group": { "source": "prometheus" }
}
```
Rendered (ููููู):
```
HighCPUUsage | server1:9100
ูุถุนุช: firing
```

## ูุดฺฉูุงุช ุฑุงุฌ
- TemplateSyntaxError: ุณูุชฺฉุณ ูุงูุจ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.
- JSON ูุงูุนุชุจุฑ ุฏุฑ Extra Context: ุณุงุฎุชุงุฑ JSON ุฑุง ุงุนุชุจุงุฑุณูุฌ ฺฉูุฏ.
- ุงุฑุณุงู ุจู ุงุณูฺฉ ูุงูููู: ููุฏุงุฑ `SLACK_INTERNAL_ENDPOINT` ุฑุง ุฏุฑ ุชูุธูุงุช ุจุฑุฑุณ ฺฉูุฏ ู ูุงฺฏโูุง ุฑุง ุจุจูุฏ.

## ูุงูุจโูุง ูพุงู (Message Templates)
ุฏุฑ ููุงูู ุงุณูฺฉ ูโุชูุงูุฏ ุฏู ููุน ูุงูุจ ูพุงู ุชุนุฑู ฺฉูุฏ: ฺฉ ุจุฑุง ุฒูุงู ฺฉู ูุดุฏุงุฑ ุฏุฑ ูุถุนุช firing ูุฑุงุฑ ุฏุงุฑุฏ ู ุฏฺฏุฑ ุจุฑุง ุฒูุงู ฺฉู resolved ูโุดูุฏ. ุงฺฏุฑ ูุงูุจ resolved ุฎุงู ุจุงุดุฏุ ุจุฑุง ุงู ูุถุนุช ูพุงู ุงุฑุณุงู ููโุดูุฏ.

### ูุซุงู Template
```
{{ alert_group.labels.alertname }} ุฑู {{ alert_group.instance }}
ููุจุน: {{ alert_group.source }}
```
